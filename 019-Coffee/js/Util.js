// Generated by CoffeeScript 2.3.2
var a, ancestors, body, crap, createAndAppend, div, fetchJSON, h1, h2, h3, head, header, img, li, option, p, print, select, table, tbody, td, title, tr, ul, xonchange, xonclick, xonkeyup;

print = function() {
  console.log(arguments[0]);
  return arguments[0];
};

createAndAppend = (type, parent, attributes = {}) => {
  var element, key, value;
  element = document.createElement(type);
  parent.appendChild(element);
  for (key in attributes) {
    value = attributes[key];
    if (key === 'text') {
      element.textContent = value;
    } else {
      element.setAttribute(key, value);
    }
  }
  return element;
};

ancestors = [];

crap = (attributes, f, type) => {
  if (typeof type === 'object') {
    ancestors.push(type);
  } else {
    ancestors.push(createAndAppend(type, _.last(ancestors), attributes));
  }
  f();
  return ancestors.pop();
};

head = (f = () => {}) => {
  return crap({}, f, document.head);
};

body = (f = () => {}) => {
  return crap({}, f, document.body);
};

a = (attributes, f = () => {}) => {
  return crap(attributes, f, 'a');
};

div = (attributes, f = () => {}) => {
  return crap(attributes, f, 'div');
};

h1 = (attributes, f = () => {}) => {
  return crap(attributes, f, 'h1');
};

h2 = (attributes, f = () => {}) => {
  return crap(attributes, f, 'h2');
};

h3 = (attributes, f = () => {}) => {
  return crap(attributes, f, 'h3');
};

header = (attributes, f = () => {}) => {
  return crap(attributes, f, 'header');
};

img = (attributes, f = () => {}) => {
  return crap(attributes, f, 'img');
};

li = (attributes, f = () => {}) => {
  return crap(attributes, f, 'li');
};

option = (attributes, f = () => {}) => {
  return crap(attributes, f, 'option');
};

p = (attributes, f = () => {}) => {
  return crap(attributes, f, 'p');
};

select = (attributes, f = () => {}) => {
  return crap(attributes, f, 'select');
};

table = (attributes, f = () => {}) => {
  return crap(attributes, f, 'table');
};

tbody = (attributes, f = () => {}) => {
  return crap(attributes, f, 'tbody');
};

td = (attributes, f = () => {}) => {
  return crap(attributes, f, 'td');
};

title = (attributes, f = () => {}) => {
  return crap(attributes, f, 'title');
};

tr = (attributes, f = () => {}) => {
  return crap(attributes, f, 'tr');
};

ul = (attributes, f = () => {}) => {
  return crap(attributes, f, 'ul');
};

xonclick = (f) => {
  return _.last(ancestors).addEventListener('click', f);
};

xonkeyup = (f) => {
  return _.last(ancestors).addEventListener('keyup', f);
};

xonchange = (f) => {
  return _.last(ancestors).addEventListener('change', f);
};

fetchJSON = function(url) {
  return new Promise(function(success, failure) {
    var req;
    req = new XMLHttpRequest();
    req.open("GET", url);
    req.responseType = "json";
    req.onload = () => {
      if (req.status < 400) {
        return success(req.response);
      } else {
        return failure(new Error(req.statusText));
      }
    };
    req.onerror = () => {
      return failure(new Error("Network request failed"));
    };
    return req.send();
  });
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiVXRpbC5qcyIsInNvdXJjZVJvb3QiOiIuLiIsInNvdXJjZXMiOlsiY29mZmVlXFxVdGlsLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQSxDQUFBLEVBQUEsU0FBQSxFQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsZUFBQSxFQUFBLEdBQUEsRUFBQSxTQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsSUFBQSxFQUFBLE1BQUEsRUFBQSxHQUFBLEVBQUEsRUFBQSxFQUFBLE1BQUEsRUFBQSxDQUFBLEVBQUEsS0FBQSxFQUFBLE1BQUEsRUFBQSxLQUFBLEVBQUEsS0FBQSxFQUFBLEVBQUEsRUFBQSxLQUFBLEVBQUEsRUFBQSxFQUFBLEVBQUEsRUFBQSxTQUFBLEVBQUEsUUFBQSxFQUFBOztBQUFBLEtBQUEsR0FBUSxRQUFBLENBQUEsQ0FBQTtFQUNQLE9BQU8sQ0FBQyxHQUFSLENBQVksU0FBVSxDQUFBLENBQUEsQ0FBdEI7U0FDQSxTQUFVLENBQUEsQ0FBQTtBQUZIOztBQUlSLGVBQUEsR0FBa0IsQ0FBQyxJQUFELEVBQU8sTUFBUCxFQUFlLGFBQWEsQ0FBQSxDQUE1QixDQUFBLEdBQUE7QUFDakIsTUFBQSxPQUFBLEVBQUEsR0FBQSxFQUFBO0VBQUEsT0FBQSxHQUFVLFFBQVEsQ0FBQyxhQUFULENBQXVCLElBQXZCO0VBQ1YsTUFBTSxDQUFDLFdBQVAsQ0FBbUIsT0FBbkI7RUFDQSxLQUFBLGlCQUFBOztJQUNDLElBQUcsR0FBQSxLQUFPLE1BQVY7TUFDQyxPQUFPLENBQUMsV0FBUixHQUFzQixNQUR2QjtLQUFBLE1BQUE7TUFHQyxPQUFPLENBQUMsWUFBUixDQUFxQixHQUFyQixFQUEwQixLQUExQixFQUhEOztFQUREO1NBS0E7QUFSaUI7O0FBVWxCLFNBQUEsR0FBWTs7QUFFWixJQUFBLEdBQU8sQ0FBQyxVQUFELEVBQWEsQ0FBYixFQUFnQixJQUFoQixDQUFBLEdBQUE7RUFDTixJQUFHLE9BQU8sSUFBUCxLQUFlLFFBQWxCO0lBQWdDLFNBQVMsQ0FBQyxJQUFWLENBQWUsSUFBZixFQUFoQztHQUFBLE1BQUE7SUFDSyxTQUFTLENBQUMsSUFBVixDQUFlLGVBQUEsQ0FBZ0IsSUFBaEIsRUFBc0IsQ0FBQyxDQUFDLElBQUYsQ0FBTyxTQUFQLENBQXRCLEVBQXlDLFVBQXpDLENBQWYsRUFETDs7RUFFQSxDQUFBLENBQUE7U0FDQSxTQUFTLENBQUMsR0FBVixDQUFBO0FBSk07O0FBTVAsSUFBQSxHQUFRLENBQWEsSUFBSSxDQUFBLENBQUEsR0FBQSxFQUFBLENBQWpCLENBQUEsR0FBQTtTQUF3QixJQUFBLENBQUssQ0FBQSxDQUFMLEVBQVMsQ0FBVCxFQUFZLFFBQVEsQ0FBQyxJQUFyQjtBQUF4Qjs7QUFDUixJQUFBLEdBQVEsQ0FBYSxJQUFJLENBQUEsQ0FBQSxHQUFBLEVBQUEsQ0FBakIsQ0FBQSxHQUFBO1NBQXdCLElBQUEsQ0FBSyxDQUFBLENBQUwsRUFBUyxDQUFULEVBQVksUUFBUSxDQUFDLElBQXJCO0FBQXhCOztBQUVSLENBQUEsR0FBUSxDQUFDLFVBQUQsRUFBYSxJQUFJLENBQUEsQ0FBQSxHQUFBLEVBQUEsQ0FBakIsQ0FBQSxHQUFBO1NBQXdCLElBQUEsQ0FBSyxVQUFMLEVBQWlCLENBQWpCLEVBQW9CLEdBQXBCO0FBQXhCOztBQUNSLEdBQUEsR0FBUSxDQUFDLFVBQUQsRUFBYSxJQUFJLENBQUEsQ0FBQSxHQUFBLEVBQUEsQ0FBakIsQ0FBQSxHQUFBO1NBQXdCLElBQUEsQ0FBSyxVQUFMLEVBQWlCLENBQWpCLEVBQW9CLEtBQXBCO0FBQXhCOztBQUNSLEVBQUEsR0FBUSxDQUFDLFVBQUQsRUFBYSxJQUFJLENBQUEsQ0FBQSxHQUFBLEVBQUEsQ0FBakIsQ0FBQSxHQUFBO1NBQXdCLElBQUEsQ0FBSyxVQUFMLEVBQWlCLENBQWpCLEVBQW9CLElBQXBCO0FBQXhCOztBQUNSLEVBQUEsR0FBUSxDQUFDLFVBQUQsRUFBYSxJQUFJLENBQUEsQ0FBQSxHQUFBLEVBQUEsQ0FBakIsQ0FBQSxHQUFBO1NBQXdCLElBQUEsQ0FBSyxVQUFMLEVBQWlCLENBQWpCLEVBQW9CLElBQXBCO0FBQXhCOztBQUNSLEVBQUEsR0FBUSxDQUFDLFVBQUQsRUFBYSxJQUFJLENBQUEsQ0FBQSxHQUFBLEVBQUEsQ0FBakIsQ0FBQSxHQUFBO1NBQXdCLElBQUEsQ0FBSyxVQUFMLEVBQWlCLENBQWpCLEVBQW9CLElBQXBCO0FBQXhCOztBQUNSLE1BQUEsR0FBUSxDQUFDLFVBQUQsRUFBYSxJQUFJLENBQUEsQ0FBQSxHQUFBLEVBQUEsQ0FBakIsQ0FBQSxHQUFBO1NBQXdCLElBQUEsQ0FBSyxVQUFMLEVBQWlCLENBQWpCLEVBQW9CLFFBQXBCO0FBQXhCOztBQUNSLEdBQUEsR0FBUSxDQUFDLFVBQUQsRUFBYSxJQUFJLENBQUEsQ0FBQSxHQUFBLEVBQUEsQ0FBakIsQ0FBQSxHQUFBO1NBQXdCLElBQUEsQ0FBSyxVQUFMLEVBQWlCLENBQWpCLEVBQW9CLEtBQXBCO0FBQXhCOztBQUNSLEVBQUEsR0FBUSxDQUFDLFVBQUQsRUFBYSxJQUFJLENBQUEsQ0FBQSxHQUFBLEVBQUEsQ0FBakIsQ0FBQSxHQUFBO1NBQXdCLElBQUEsQ0FBSyxVQUFMLEVBQWlCLENBQWpCLEVBQW9CLElBQXBCO0FBQXhCOztBQUNSLE1BQUEsR0FBUSxDQUFDLFVBQUQsRUFBYSxJQUFJLENBQUEsQ0FBQSxHQUFBLEVBQUEsQ0FBakIsQ0FBQSxHQUFBO1NBQXdCLElBQUEsQ0FBSyxVQUFMLEVBQWlCLENBQWpCLEVBQW9CLFFBQXBCO0FBQXhCOztBQUNSLENBQUEsR0FBUSxDQUFDLFVBQUQsRUFBYSxJQUFJLENBQUEsQ0FBQSxHQUFBLEVBQUEsQ0FBakIsQ0FBQSxHQUFBO1NBQXdCLElBQUEsQ0FBSyxVQUFMLEVBQWlCLENBQWpCLEVBQW9CLEdBQXBCO0FBQXhCOztBQUNSLE1BQUEsR0FBUSxDQUFDLFVBQUQsRUFBYSxJQUFJLENBQUEsQ0FBQSxHQUFBLEVBQUEsQ0FBakIsQ0FBQSxHQUFBO1NBQXdCLElBQUEsQ0FBSyxVQUFMLEVBQWlCLENBQWpCLEVBQW9CLFFBQXBCO0FBQXhCOztBQUNSLEtBQUEsR0FBUSxDQUFDLFVBQUQsRUFBYSxJQUFJLENBQUEsQ0FBQSxHQUFBLEVBQUEsQ0FBakIsQ0FBQSxHQUFBO1NBQXdCLElBQUEsQ0FBSyxVQUFMLEVBQWlCLENBQWpCLEVBQW9CLE9BQXBCO0FBQXhCOztBQUNSLEtBQUEsR0FBUSxDQUFDLFVBQUQsRUFBYSxJQUFJLENBQUEsQ0FBQSxHQUFBLEVBQUEsQ0FBakIsQ0FBQSxHQUFBO1NBQXdCLElBQUEsQ0FBSyxVQUFMLEVBQWlCLENBQWpCLEVBQW9CLE9BQXBCO0FBQXhCOztBQUNSLEVBQUEsR0FBUSxDQUFDLFVBQUQsRUFBYSxJQUFJLENBQUEsQ0FBQSxHQUFBLEVBQUEsQ0FBakIsQ0FBQSxHQUFBO1NBQXdCLElBQUEsQ0FBSyxVQUFMLEVBQWlCLENBQWpCLEVBQW9CLElBQXBCO0FBQXhCOztBQUNSLEtBQUEsR0FBUSxDQUFDLFVBQUQsRUFBYSxJQUFJLENBQUEsQ0FBQSxHQUFBLEVBQUEsQ0FBakIsQ0FBQSxHQUFBO1NBQXdCLElBQUEsQ0FBSyxVQUFMLEVBQWlCLENBQWpCLEVBQW9CLE9BQXBCO0FBQXhCOztBQUNSLEVBQUEsR0FBUSxDQUFDLFVBQUQsRUFBYSxJQUFJLENBQUEsQ0FBQSxHQUFBLEVBQUEsQ0FBakIsQ0FBQSxHQUFBO1NBQXdCLElBQUEsQ0FBSyxVQUFMLEVBQWlCLENBQWpCLEVBQW9CLElBQXBCO0FBQXhCOztBQUNSLEVBQUEsR0FBUSxDQUFDLFVBQUQsRUFBYSxJQUFJLENBQUEsQ0FBQSxHQUFBLEVBQUEsQ0FBakIsQ0FBQSxHQUFBO1NBQXdCLElBQUEsQ0FBSyxVQUFMLEVBQWlCLENBQWpCLEVBQW9CLElBQXBCO0FBQXhCOztBQUVSLFFBQUEsR0FBWSxDQUFDLENBQUQsQ0FBQSxHQUFBO1NBQU8sQ0FBQyxDQUFDLElBQUYsQ0FBTyxTQUFQLENBQWlCLENBQUMsZ0JBQWxCLENBQW1DLE9BQW5DLEVBQTJDLENBQTNDO0FBQVA7O0FBQ1osUUFBQSxHQUFZLENBQUMsQ0FBRCxDQUFBLEdBQUE7U0FBTyxDQUFDLENBQUMsSUFBRixDQUFPLFNBQVAsQ0FBaUIsQ0FBQyxnQkFBbEIsQ0FBbUMsT0FBbkMsRUFBMkMsQ0FBM0M7QUFBUDs7QUFDWixTQUFBLEdBQVksQ0FBQyxDQUFELENBQUEsR0FBQTtTQUFPLENBQUMsQ0FBQyxJQUFGLENBQU8sU0FBUCxDQUFpQixDQUFDLGdCQUFsQixDQUFtQyxRQUFuQyxFQUE0QyxDQUE1QztBQUFQOztBQUVaLFNBQUEsR0FBWSxRQUFBLENBQUMsR0FBRCxDQUFBO1NBQ1gsSUFBSSxPQUFKLENBQVksUUFBQSxDQUFDLE9BQUQsRUFBUyxPQUFULENBQUE7QUFDWCxRQUFBO0lBQUEsR0FBQSxHQUFNLElBQUksY0FBSixDQUFBO0lBQ04sR0FBRyxDQUFDLElBQUosQ0FBUyxLQUFULEVBQWUsR0FBZjtJQUNBLEdBQUcsQ0FBQyxZQUFKLEdBQW1CO0lBQ25CLEdBQUcsQ0FBQyxNQUFKLEdBQWEsQ0FBQSxDQUFBLEdBQUE7TUFBRyxJQUFHLEdBQUcsQ0FBQyxNQUFKLEdBQWEsR0FBaEI7ZUFBeUIsT0FBQSxDQUFRLEdBQUcsQ0FBQyxRQUFaLEVBQXpCO09BQUEsTUFBQTtlQUFtRCxPQUFBLENBQVEsSUFBSSxLQUFKLENBQVUsR0FBRyxDQUFDLFVBQWQsQ0FBUixFQUFuRDs7SUFBSDtJQUNiLEdBQUcsQ0FBQyxPQUFKLEdBQWMsQ0FBQSxDQUFBLEdBQUE7YUFBRyxPQUFBLENBQVEsSUFBSSxLQUFKLENBQVUsd0JBQVYsQ0FBUjtJQUFIO1dBQ2QsR0FBRyxDQUFDLElBQUosQ0FBQTtFQU5XLENBQVo7QUFEVyIsInNvdXJjZXNDb250ZW50IjpbInByaW50ID0gKCkgLT5cclxuXHRjb25zb2xlLmxvZyBhcmd1bWVudHNbMF1cclxuXHRhcmd1bWVudHNbMF1cclxuXHJcbmNyZWF0ZUFuZEFwcGVuZCA9ICh0eXBlLCBwYXJlbnQsIGF0dHJpYnV0ZXMgPSB7fSkgPT5cclxuXHRlbGVtZW50ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCB0eXBlXHJcblx0cGFyZW50LmFwcGVuZENoaWxkIGVsZW1lbnRcclxuXHRmb3Iga2V5LHZhbHVlIG9mIGF0dHJpYnV0ZXNcclxuXHRcdGlmIGtleSA9PSAndGV4dCdcclxuXHRcdFx0ZWxlbWVudC50ZXh0Q29udGVudCA9IHZhbHVlIFxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRlbGVtZW50LnNldEF0dHJpYnV0ZSBrZXksIHZhbHVlXHJcblx0ZWxlbWVudFxyXG5cclxuYW5jZXN0b3JzID0gW11cclxuXHJcbmNyYXAgPSAoYXR0cmlidXRlcywgZiwgdHlwZSkgPT5cclxuXHRpZiB0eXBlb2YgdHlwZSA9PSAnb2JqZWN0JyB0aGVuIGFuY2VzdG9ycy5wdXNoIHR5cGVcclxuXHRlbHNlIGFuY2VzdG9ycy5wdXNoIGNyZWF0ZUFuZEFwcGVuZCB0eXBlLCBfLmxhc3QoYW5jZXN0b3JzKSwgYXR0cmlidXRlc1xyXG5cdGYoKVxyXG5cdGFuY2VzdG9ycy5wb3AoKVxyXG5cclxuaGVhZCA9ICAoICAgICAgICAgICAgZiA9ID0+KSA9PiBjcmFwIHt9LCBmLCBkb2N1bWVudC5oZWFkXHJcbmJvZHkgPSAgKCAgICAgICAgICAgIGYgPSA9PikgPT4gY3JhcCB7fSwgZiwgZG9jdW1lbnQuYm9keVxyXG5cclxuYSA9ICAgICAoYXR0cmlidXRlcywgZiA9ID0+KSA9PiBjcmFwIGF0dHJpYnV0ZXMsIGYsICdhJ1xyXG5kaXYgPSAgIChhdHRyaWJ1dGVzLCBmID0gPT4pID0+IGNyYXAgYXR0cmlidXRlcywgZiwgJ2RpdidcclxuaDEgPSAgICAoYXR0cmlidXRlcywgZiA9ID0+KSA9PiBjcmFwIGF0dHJpYnV0ZXMsIGYsICdoMSdcclxuaDIgPSAgICAoYXR0cmlidXRlcywgZiA9ID0+KSA9PiBjcmFwIGF0dHJpYnV0ZXMsIGYsICdoMidcclxuaDMgPSAgICAoYXR0cmlidXRlcywgZiA9ID0+KSA9PiBjcmFwIGF0dHJpYnV0ZXMsIGYsICdoMydcclxuaGVhZGVyPSAoYXR0cmlidXRlcywgZiA9ID0+KSA9PiBjcmFwIGF0dHJpYnV0ZXMsIGYsICdoZWFkZXInXHJcbmltZyA9ICAgKGF0dHJpYnV0ZXMsIGYgPSA9PikgPT4gY3JhcCBhdHRyaWJ1dGVzLCBmLCAnaW1nJ1xyXG5saSA9ICAgIChhdHRyaWJ1dGVzLCBmID0gPT4pID0+IGNyYXAgYXR0cmlidXRlcywgZiwgJ2xpJ1xyXG5vcHRpb249IChhdHRyaWJ1dGVzLCBmID0gPT4pID0+IGNyYXAgYXR0cmlidXRlcywgZiwgJ29wdGlvbidcclxucCA9ICAgICAoYXR0cmlidXRlcywgZiA9ID0+KSA9PiBjcmFwIGF0dHJpYnV0ZXMsIGYsICdwJ1xyXG5zZWxlY3Q9IChhdHRyaWJ1dGVzLCBmID0gPT4pID0+IGNyYXAgYXR0cmlidXRlcywgZiwgJ3NlbGVjdCdcclxudGFibGUgPSAoYXR0cmlidXRlcywgZiA9ID0+KSA9PiBjcmFwIGF0dHJpYnV0ZXMsIGYsICd0YWJsZSdcclxudGJvZHkgPSAoYXR0cmlidXRlcywgZiA9ID0+KSA9PiBjcmFwIGF0dHJpYnV0ZXMsIGYsICd0Ym9keSdcclxudGQgPSAgICAoYXR0cmlidXRlcywgZiA9ID0+KSA9PiBjcmFwIGF0dHJpYnV0ZXMsIGYsICd0ZCdcclxudGl0bGUgPSAoYXR0cmlidXRlcywgZiA9ID0+KSA9PiBjcmFwIGF0dHJpYnV0ZXMsIGYsICd0aXRsZSdcclxudHIgPSAgICAoYXR0cmlidXRlcywgZiA9ID0+KSA9PiBjcmFwIGF0dHJpYnV0ZXMsIGYsICd0cidcclxudWwgPSAgICAoYXR0cmlidXRlcywgZiA9ID0+KSA9PiBjcmFwIGF0dHJpYnV0ZXMsIGYsICd1bCdcclxuXHJcbnhvbmNsaWNrICA9IChmKSA9PiBfLmxhc3QoYW5jZXN0b3JzKS5hZGRFdmVudExpc3RlbmVyICdjbGljaycsZlxyXG54b25rZXl1cCAgPSAoZikgPT4gXy5sYXN0KGFuY2VzdG9ycykuYWRkRXZlbnRMaXN0ZW5lciAna2V5dXAnLGZcclxueG9uY2hhbmdlID0gKGYpID0+IF8ubGFzdChhbmNlc3RvcnMpLmFkZEV2ZW50TGlzdGVuZXIgJ2NoYW5nZScsZlxyXG5cclxuZmV0Y2hKU09OID0gKHVybCkgLT5cclxuXHRuZXcgUHJvbWlzZSAoc3VjY2VzcyxmYWlsdXJlKSAtPiBcclxuXHRcdHJlcSA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpXHJcblx0XHRyZXEub3BlbiBcIkdFVFwiLHVybFxyXG5cdFx0cmVxLnJlc3BvbnNlVHlwZSA9IFwianNvblwiXHJcblx0XHRyZXEub25sb2FkID0gPT4gaWYgcmVxLnN0YXR1cyA8IDQwMCB0aGVuIHN1Y2Nlc3MgcmVxLnJlc3BvbnNlIGVsc2UgZmFpbHVyZSBuZXcgRXJyb3IgcmVxLnN0YXR1c1RleHRcclxuXHRcdHJlcS5vbmVycm9yID0gPT4gZmFpbHVyZSBuZXcgRXJyb3IgXCJOZXR3b3JrIHJlcXVlc3QgZmFpbGVkXCJcclxuXHRcdHJlcS5zZW5kKClcclxuIl19
//# sourceURL=c:\github\foo\019-Coffee\coffee\Util.coffee