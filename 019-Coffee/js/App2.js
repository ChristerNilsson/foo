// Generated by CoffeeScript 2.3.2
var GitHub, github,
  boundMethodCheck = function(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new Error('Bound instance method accessed before binding'); } };

GitHub = class GitHub extends Page {
  constructor() {
    super(...arguments);
    this.init = this.init.bind(this);
    this.buildTree = this.buildTree.bind(this);
    this.buildContainer = this.buildContainer.bind(this);
  }

  async init(url) {
    boundMethodCheck(this, GitHub);
    this.repos = (await fetchJSON(url));
    this.repos.sort((a, b) => {
      return a.name.localeCompare(b.name);
    });
    return this.buildTree(0);
  }

  buildTree(index) {
    boundMethodCheck(this, GitHub);
    this.body(() => {
      var container;
      this.header({
        class: "header"
      }, () => {
        this.p({
          text: "HYF Repositories"
        });
        return this.select({
          class: "repo-selector",
          "aria-label": "HYF Repositories"
        }, () => {
          var i, key, len, ref, repo1, results;
          this.addListener('change', (evt) => {
            return this.buildContainer(this.repos[evt.target.value], container);
          });
          ref = this.repos;
          results = [];
          for (key = i = 0, len = ref.length; i < len; key = ++i) {
            repo1 = ref[key];
            results.push(this.option({
              text: repo1.name,
              value: key
            }));
          }
          return results;
        });
      });
      return container = this.div({
        id: 'container'
      });
    });
    this.ancestors.push(container);
    return this.buildContainer(this.repos[index], container);
  }

  async buildContainer(repo, container) {
    var contributors;
    boundMethodCheck(this, GitHub);
    print(this.ancestors.length);
    contributors = (await fetchJSON(repo.contributors_url));
    container.innerHTML = '';
    this.div({
      class: "left-div whiteframe"
    }, () => {
      return this.table({}, () => {
        return this.tbody({}, () => {
          this.tr({}, () => {
            this.td({
              text: "Repository"
            });
            return this.td({}, () => {
              return this.a({
                text: repo.name,
                href: repo.html_url,
                target: "_blank"
              });
            });
          });
          this.tr({}, () => {
            this.td({
              text: 'Description'
            });
            return this.td({
              text: repo.description
            });
          });
          this.tr({}, () => {
            this.td({
              text: 'Forks'
            });
            return this.td({
              text: repo.forks
            });
          });
          return this.tr({}, () => {
            this.td({
              text: 'Updated'
            });
            return this.td({
              text: new Date(repo.updated_at).toLocaleString('sv')
            });
          });
        });
      });
    });
    return this.div({
      class: "right-div whiteframe"
    }, () => {
      this.p({
        text: "Contributions",
        class: "contributor-header"
      });
      return this.ul({
        class: "contributor-list"
      }, () => {
        var contributor, i, len, results;
        results = [];
        for (i = 0, len = contributors.length; i < len; i++) {
          contributor = contributors[i];
          results.push(((contributor) => {
            return this.li({
              class: "contributor-item",
              "aria-label": contributor.login,
              tabindex: 0
            }, () => {
              this.addListener('click', () => {
                return window.open(contributor.html_url, "_blank");
              });
              this.addListener('keyup', (t) => {
                if (t.key === 'Enter') {
                  return window.open(contributor.html_url, "_blank");
                }
              });
              this.img({
                src: contributor.avatar_url,
                height: 48,
                class: "contributor-avatar"
              });
              return this.div({
                class: "contributor-data"
              }, () => {
                this.div({
                  text: contributor.login
                });
                return this.div({
                  text: contributor.contributions,
                  class: "contributor-badge"
                });
              });
            });
          })(contributor));
        }
        return results;
      });
    });
  }

};

github = new GitHub;

github.init("https://api.github.com/orgs/HackYourFuture/repos?per_page=100");

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiQXBwMi5qcyIsInNvdXJjZVJvb3QiOiIuLiIsInNvdXJjZXMiOlsiY29mZmVlXFxBcHAyLmNvZmZlZSJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsSUFBQSxNQUFBLEVBQUEsTUFBQTtFQUFBOztBQUFNLFNBQU4sTUFBQSxPQUFBLFFBQXFCLEtBQXJCOzs7UUFFQyxDQUFBLFdBQUEsQ0FBQTtRQUtBLENBQUEsZ0JBQUEsQ0FBQTtRQVdBLENBQUEscUJBQUEsQ0FBQTs7O0VBaEJPLE1BQVAsSUFBTyxDQUFDLEdBQUQsQ0FBQTsyQkFGRjtJQUdKLElBQUMsQ0FBQSxLQUFELEdBQVMsQ0FBQSxNQUFNLFNBQUEsQ0FBVSxHQUFWLENBQU47SUFDVCxJQUFDLENBQUEsS0FBSyxDQUFDLElBQVAsQ0FBWSxDQUFDLENBQUQsRUFBRyxDQUFILENBQUEsR0FBQTthQUFTLENBQUMsQ0FBQyxJQUFJLENBQUMsYUFBUCxDQUFxQixDQUFDLENBQUMsSUFBdkI7SUFBVCxDQUFaO1dBQ0EsSUFBQyxDQUFBLFNBQUQsQ0FBVyxDQUFYO0VBSE07O0VBS1AsU0FBWSxDQUFDLEtBQUQsQ0FBQTsyQkFQUDtJQVFKLElBQUMsQ0FBQSxJQUFELENBQU0sQ0FBQSxDQUFBLEdBQUE7QUFDTCxVQUFBO01BQUEsSUFBQyxDQUFBLE1BQUQsQ0FBUTtRQUFFLEtBQUEsRUFBTztNQUFULENBQVIsRUFBNkIsQ0FBQSxDQUFBLEdBQUE7UUFDNUIsSUFBQyxDQUFBLENBQUQsQ0FBRztVQUFFLElBQUEsRUFBTTtRQUFSLENBQUg7ZUFDQSxJQUFDLENBQUEsTUFBRCxDQUFRO1VBQUUsS0FBQSxFQUFPLGVBQVQ7VUFBMEIsWUFBQSxFQUFjO1FBQXhDLENBQVIsRUFBc0UsQ0FBQSxDQUFBLEdBQUE7QUFDckUsY0FBQSxDQUFBLEVBQUEsR0FBQSxFQUFBLEdBQUEsRUFBQSxHQUFBLEVBQUEsS0FBQSxFQUFBO1VBQUEsSUFBQyxDQUFBLFdBQUQsQ0FBYSxRQUFiLEVBQXVCLENBQUMsR0FBRCxDQUFBLEdB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Q0FBSztrQkFBRSxJQUFBLEVBQU0sV0FBVyxDQUFDLGFBQXBCO2tCQUFtQyxLQUFBLEVBQU87Z0JBQTFDLENBQUw7Y0FGa0MsQ0FBbkM7WUFKOEUsQ0FBL0U7VUFERSxDQUFBLENBQUgsQ0FBSSxXQUFKO1FBREQsQ0FBQTs7TUFEa0MsQ0FBbkM7SUFGdUMsQ0FBeEM7RUFuQmdCOztBQWxCbEI7O0FBa0RBLE1BQUEsR0FBUyxJQUFJOztBQUNiLE1BQU0sQ0FBQyxJQUFQLENBQVksK0RBQVoiLCJzb3VyY2VzQ29udGVudCI6WyJjbGFzcyBHaXRIdWIgZXh0ZW5kcyBQYWdlXHJcblxyXG5cdGluaXQgOiAodXJsKSA9PlxyXG5cdFx0QHJlcG9zID0gYXdhaXQgZmV0Y2hKU09OIHVybFxyXG5cdFx0QHJlcG9zLnNvcnQgKGEsYikgPT4gYS5uYW1lLmxvY2FsZUNvbXBhcmUgYi5uYW1lXHJcblx0XHRAYnVpbGRUcmVlIDBcclxuXHJcblx0YnVpbGRUcmVlIDogKGluZGV4KSA9PlxyXG5cdFx0QGJvZHkgPT5cclxuXHRcdFx0QGhlYWRlciB7IGNsYXNzOiBcImhlYWRlclwiIH0sID0+XHJcblx0XHRcdFx0QHAgeyB0ZXh0OiBcIkhZRiBSZXBvc2l0b3JpZXNcIn1cclxuXHRcdFx0XHRAc2VsZWN0IHsgY2xhc3M6IFwicmVwby1zZWxlY3RvclwiLCBcImFyaWEtbGFiZWxcIjogXCJIWUYgUmVwb3NpdG9yaWVzXCIgfSwgPT5cclxuXHRcdFx0XHRcdEBhZGRMaXN0ZW5lciAnY2hhbmdlJywgKGV2dCkgPT4gQGJ1aWxkQ29udGFpbmVyIEByZXBvc1tldnQudGFyZ2V0LnZhbHVlXSxjb250YWluZXJcclxuXHRcdFx0XHRcdEBvcHRpb24geyB0ZXh0OiByZXBvMS5uYW1lLCB2YWx1ZToga2V5IH0gZm9yIHJlcG8xLGtleSBpbiBAcmVwb3NcclxuXHRcdFx0Y29udGFpbmVyID0gQGRpdiB7aWQ6ICdjb250YWluZXInfVxyXG5cdFx0QGFuY2VzdG9ycy5wdXNoIGNvbnRhaW5lclxyXG5cdFx0QGJ1aWxkQ29udGFpbmVyIEByZXBvc1tpbmRleF0sY29udGFpbmVyXHJcblxyXG5cdGJ1aWxkQ29udGFpbmVyIDogKHJlcG8sY29udGFpbmVyKSA9PlxyXG5cdFx0cHJpbnQgQGFuY2VzdG9ycy5sZW5ndGhcclxuXHRcdGNvbnRyaWJ1dG9ycyA9IGF3YWl0IGZldGNoSlNPTiByZXBvLmNvbnRyaWJ1dG9yc191cmxcclxuXHRcdGNvbnRhaW5lci5pbm5lckhUTUwgPSAnJ1xyXG5cdFx0QGRpdiB7IGNsYXNzOiBcImxlZnQtZGl2IHdoaXRlZnJhbWVcIiB9LCA9PlxyXG5cdFx0XHRAdGFibGUge30sID0+XHJcblx0XHRcdFx0QHRib2R5IHt9LCA9PlxyXG5cdFx0XHRcdFx0QHRyIHt9LCA9PlxyXG5cdFx0XHRcdFx0XHRAdGQge3RleHQ6IFwiUmVwb3NpdG9yeVwifVxyXG5cdFx0XHRcdFx0XHRAdGQge30sID0+IEBhIHt0ZXh0OiByZXBvLm5hbWUsIGhyZWY6IHJlcG8uaHRtbF91cmwsIHRhcmdldDogXCJfYmxhbmtcIn1cclxuXHRcdFx0XHRcdEB0ciB7fSwgPT5cclxuXHRcdFx0XHRcdFx0QHRkIHt0ZXh0OiAnRGVzY3JpcHRpb24nfVxyXG5cdFx0XHRcdFx0XHRAdGQge3RleHQ6IHJlcG8uZGVzY3JpcHRpb259XHJcblx0XHRcdFx0XHRAdHIge30sID0+XHJcblx0XHRcdFx0XHRcdEB0ZCB7dGV4dDogJ0ZvcmtzJ31cclxuXHRcdFx0XHRcdFx0QHRkIHt0ZXh0OiByZXBvLmZvcmtzfVxyXG5cdFx0XHRcdFx0QHRyIHt9LCA9PlxyXG5cdFx0XHRcdFx0XHRAdGQge3RleHQ6ICdVcGRhdGVkJ31cclxuXHRcdFx0XHRcdFx0QHRkIHt0ZXh0OiBuZXcgRGF0ZShyZXBvLnVwZGF0ZWRfYXQpLnRvTG9jYWxlU3RyaW5nKCdzdicpfVxyXG5cdFx0QGRpdiB7IGNsYXNzOiBcInJpZ2h0LWRpdiB3aGl0ZWZyYW1lXCIgfSwgPT5cclxuXHRcdFx0QHAgeyB0ZXh0OiBcIkNvbnRyaWJ1dGlvbnNcIiwgY2xhc3M6IFwiY29udHJpYnV0b3ItaGVhZGVyXCIgfVxyXG5cdFx0XHRAdWwgeyBjbGFzczogXCJjb250cmlidXRvci1saXN0XCIgfSwgPT5cclxuXHRcdFx0XHRmb3IgY29udHJpYnV0b3IgaW4gY29udHJpYnV0b3JzXHJcblx0XHRcdFx0XHRkbyAoY29udHJpYnV0b3IpID0+XHJcblx0XHRcdFx0XHRcdEBsaSB7Y2xhc3M6IFwiY29udHJpYnV0b3ItaXRlbVwiLCBcImFyaWEtbGFiZWxcIjogY29udHJpYnV0b3IubG9naW4sIHRhYmluZGV4OiAwfSwgPT5cclxuXHRcdFx0XHRcdFx0XHRAYWRkTGlzdGVuZXIgJ2NsaWNrJywgPT4gd2luZG93Lm9wZW4gY29udHJpYnV0b3IuaHRtbF91cmwsIFwiX2JsYW5rXCJcclxuXHRcdFx0XHRcdFx0XHRAYWRkTGlzdGVuZXIgJ2tleXVwJywgKHQpID0+IGlmIHQua2V5ID09ICdFbnRlcicgdGhlbiB3aW5kb3cub3BlbiBjb250cmlidXRvci5odG1sX3VybCwgXCJfYmxhbmtcIlxyXG5cdFx0XHRcdFx0XHRcdEBpbWcgeyBzcmM6IGNvbnRyaWJ1dG9yLmF2YXRhcl91cmwsIGhlaWdodDogNDgsIGNsYXNzOiBcImNvbnRyaWJ1dG9yLWF2YXRhclwifVxyXG5cdFx0XHRcdFx0XHRcdEBkaXYgeyBjbGFzczogXCJjb250cmlidXRvci1kYXRhXCJ9LCA9PlxyXG5cdFx0XHRcdFx0XHRcdFx0QGRpdiB7IHRleHQ6IGNvbnRyaWJ1dG9yLmxvZ2luIH1cclxuXHRcdFx0XHRcdFx0XHRcdEBkaXYgeyB0ZXh0OiBjb250cmlidXRvci5jb250cmlidXRpb25zLCBjbGFzczogXCJjb250cmlidXRvci1iYWRnZVwiIH1cclxuXHJcbmdpdGh1YiA9IG5ldyBHaXRIdWJcclxuZ2l0aHViLmluaXQgXCJodHRwczovL2FwaS5naXRodWIuY29tL29yZ3MvSGFja1lvdXJGdXR1cmUvcmVwb3M/cGVyX3BhZ2U9MTAwXCJcclxuIl19
//# sourceURL=c:\github\foo\019-Coffee\coffee\App2.coffee